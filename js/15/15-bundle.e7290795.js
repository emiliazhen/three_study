"use strict";(self.webpackChunkthree_study=self.webpackChunkthree_study||[]).push([[886],{3090:function(n,o){o.Z="precision lowp float;\r\n\r\nvarying vec4 vModelPosition;\r\nvarying vec4 vCurrentPosition;\r\n\r\nvoid main(){\r\n  vec4 redColor = vec4(1.0, 0.0, 0.0, 1.0);\r\n  vec4 yellowColor = vec4(1.0, 1.0, 0.0, 1.0);\r\n  vec4 mixColor = mix(yellowColor,redColor, vCurrentPosition.y / 3.0);\r\n  gl_FragColor = vec4(mixColor.rgb,1.0);\r\n  // 是否是正面\r\n  if(gl_FrontFacing){\r\n    gl_FragColor = vec4(mixColor.rgb - (vModelPosition.y-25.0)/85.0 - 0.1, 1.0);\r\n  } else {\r\n    gl_FragColor = vec4(mixColor.rgb, 1.0);\r\n  }\r\n}"},5528:function(n,o){o.Z="precision lowp float;\r\n\r\nattribute vec3 position;\r\n\r\nuniform mat4 projectionMatrix;\r\nuniform mat4 viewMatrix;\r\nuniform mat4 modelMatrix;\r\n\r\n// 传递给片元着色器\r\nvarying vec4 vModelPosition;\r\nvarying vec4 vCurrentPosition;\r\n\r\nvoid main(){\r\n  vec4 modelPosition =  modelMatrix * vec4( position, 1.0 );\r\n  vModelPosition = modelPosition;\r\n  vCurrentPosition = vec4( position, 1.0 );\r\n  gl_Position = projectionMatrix * viewMatrix * modelPosition;\r\n}"},1804:function(n,o,e){var r=e(9477),i=e(6358),t=e(5528),a=e(3090),d=e(3301),c=e(8658),l=e(9365),s=e(2666),v=e(3867);document.title="".concat(window.location.pathname.slice(1)," 着色器绘制孔明灯");var m=new r.xsS,u=new r.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);u.position.set(0,-5,10),m.add(u),(new s.x).loadAsync(c).then((function(n){n.mapping=r.dSO,m.background=n,m.environment=n}));var p=new r.FIo({vertexShader:t.Z,fragmentShader:a.Z,side:r.ehD});(new v.E).load(d,(function(n){n.scene.children[0].material=p;for(var o=0;o<150;o++){var e=n.scene.clone(!0),r=300*(Math.random()-.5),t=300*(Math.random()-.5),a=60*Math.random()+25;e.position.set(r,a,t),i.ZP.to(e.rotation,{y:2*Math.PI,duration:10+30*Math.random(),repeat:-1}),i.ZP.to(e.position,{x:"+=".concat(5*Math.random()),y:"+=".concat(10*Math.random()),duration:5+10*Math.random(),repeat:-1,yoyo:!0}),m.add(e)}}));var w=new r.CP7;w.outputEncoding=r.knz,w.toneMapping=r.LY2,w.toneMappingExposure=.15,w.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(w.domElement);var h=new l.z(u,w.domElement);h.enableDamping=!0,h.autoRotate=!0,h.autoRotateSpeed=.1,h.maxPolarAngle=Math.PI/4*3,h.minPolarAngle=Math.PI/4*3;var g=function(){h.update(),w.render(m,u),requestAnimationFrame(g)};g(),window.addEventListener("resize",(function(){u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight)}))},3301:function(n,o,e){n.exports=e.p+"9039200eb3dd993eea02.glb"},8658:function(n,o,e){n.exports=e.p+"6b175bcfabe316c301cc.hdr"}},function(n){var o=function(o){return n(n.s=o)};n.O(0,[736,592],(function(){return o(3662),o(8188),o(7633),o(1804)}));n.O()}]);