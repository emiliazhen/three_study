(self.webpackChunkthree_study=self.webpackChunkthree_study||[]).push([[201],{2702:function(n,e,r){"use strict";var i=r(9477),o=r(9365),t=r(9697),a=r.n(t);document.title="".concat(window.location.pathname.slice(1)," 着色器绘制旗帜");var d=new i.xsS,u=new i.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);u.position.set(0,0,1),d.add(u);var l=(new i.dpR).load(a()),m=new i._12(1,1,32,32),v=new i.FIo({vertexShader:"precision lowp float;\r\n// 先告诉GPU用什么精度\r\n// {\r\n//   highp: -2^16 ~ 2^16,\r\n//   mediup: -2^10 ~ 2^10,\r\n//   lowp: -2^8 ~ 2^8,\r\n// }\r\n\r\nattribute vec3 position;\r\nattribute vec2 uv;\r\n\r\nuniform mat4 projectionMatrix;\r\nuniform mat4 viewMatrix;\r\nuniform mat4 modelMatrix;\r\n// 传递过来的时间\r\nuniform float uTime;\r\n\r\n// 传递给片元着色器\r\nvarying vec2 vUv;\r\nvarying float colorByZ;\r\n\r\nvoid main(){\r\n  vec4 modelPosition =  modelMatrix * vec4( position, 1.0 );\r\n  modelPosition.z = sin((modelPosition.x + uTime)* 10.0) * 0.05;\r\n  modelPosition.z += sin((modelPosition.y + uTime) * 10.0) * 0.05;\r\n  colorByZ = modelPosition.z;\r\n  gl_Position = projectionMatrix * viewMatrix * modelPosition;\r\n  vUv = uv;\r\n}",fragmentShader:"precision lowp float;\r\n\r\n// 传递过来的texture\r\nuniform sampler2D uTexture;\r\n\r\nvarying vec2 vUv;\r\nvarying float colorByZ;\r\n\r\nvoid main(){\r\n  // gl_FragColor = vec4(vUv, 0.0, 1.0);\r\n  // gl_FragColor = vec4(1.0 * (colorByZ * 3.0 + 0.5), 0.0 , 0.0, 1.0);\r\n\r\n  //根据uv取出对应的颜色\r\n  vec4 textureColor = texture2D(uTexture,vUv);\r\n  textureColor.rgb *= colorByZ * 2.0 + 0.8;\r\n  gl_FragColor = textureColor;\r\n}",side:i.ehD,uniforms:{uTime:{value:0},uTexture:{value:l}}}),s=new i.Kj0(m,v);d.add(s);var c=new i.CP7;c.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(c.domElement);var w=new o.z(u,c.domElement);w.enableDamping=!0;var p=new i.y8_;d.add(p);var f=new i.SUY,g=function(){v.uniforms.uTime.value=f.getElapsedTime(),w.update(),c.render(d,u),requestAnimationFrame(g)};g(),window.addEventListener("resize",(function(){u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)}))},9697:function(n,e,r){n.exports=r.p+"images/paralympic_games.05e07c9bdf.jpeg"}},function(n){var e=function(e){return n(n.s=e)};n.O(0,[736,592],(function(){return e(3662),e(8188),e(7633),e(2702)}));n.O()}]);